{"attributes":{"fieldAttrs":"{\"log\":{\"count\":1}}","fields":"[{\"count\":0,\"script\":\"if (doc.containsKey('kubernetes.labels.app.keyword') && doc['kubernetes.labels.app.keyword'].size() > 0 && doc['kubernetes.labels.app.keyword'].value == 'paymentservice' && doc.containsKey('log.keyword') && !doc['log.keyword'].empty) {\\r\\n    def message = doc['log.keyword'].value;\\r\\n    def pattern = /Amount: USD(\\\\d+\\\\.\\\\d+)/;\\r\\n    def matcher = pattern.matcher(message);\\r\\n    if (matcher.find()) {\\r\\n        return Float.parseFloat(matcher.group(1));\\r\\n    } else {\\r\\n        return 0; // Or any default value you want\\r\\n    }\\r\\n} else {\\r\\n    return 0; // Or any default value you want when the field is missing, empty, or when 'kubernetes.labels.app' is not 'paymentservice'\\r\\n}\",\"lang\":\"painless\",\"name\":\"USD\",\"type\":\"number\",\"scripted\":true,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":false},{\"count\":0,\"script\":\"if (doc.containsKey('kubernetes.labels.app.keyword') && doc['kubernetes.labels.app.keyword'].size() > 0 && doc['kubernetes.labels.app.keyword'].value == 'paymentservice' && doc.containsKey('log.keyword') && !doc['log.keyword'].empty) {\\r\\n    def message = doc['log.keyword'].value;\\r\\n    def pattern = /Amount: CAD(\\\\d+\\\\.\\\\d+)/;\\r\\n    def matcher = pattern.matcher(message);\\r\\n    if (matcher.find()) {\\r\\n        return Float.parseFloat(matcher.group(1));\\r\\n    } else {\\r\\n        return 0; // Or any default value you want\\r\\n    }\\r\\n} else {\\r\\n    return 0; // Or any default value you want when the field is missing, empty, or when 'kubernetes.labels.app' is not 'paymentservice'\\r\\n}\",\"lang\":\"painless\",\"name\":\"CAD\",\"type\":\"number\",\"scripted\":true,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":false},{\"count\":0,\"script\":\"if (doc.containsKey('kubernetes.labels.app.keyword') && doc['kubernetes.labels.app.keyword'].size() > 0 && doc['kubernetes.labels.app.keyword'].value == 'paymentservice' && doc.containsKey('log.keyword') && !doc['log.keyword'].empty) {\\r\\n    def message = doc['log.keyword'].value;\\r\\n    def pattern = /Amount: EUR(\\\\d+\\\\.\\\\d+)/;\\r\\n    def matcher = pattern.matcher(message);\\r\\n    if (matcher.find()) {\\r\\n        return Float.parseFloat(matcher.group(1));\\r\\n    } else {\\r\\n        return 0; // Or any default value you want\\r\\n    }\\r\\n} else {\\r\\n    return 0; // Or any default value you want when the field is missing, empty, or when 'kubernetes.labels.app' is not 'paymentservice'\\r\\n}\",\"lang\":\"painless\",\"name\":\"EUR\",\"type\":\"number\",\"scripted\":true,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":false},{\"count\":0,\"script\":\"if (doc.containsKey('kubernetes.labels.app.keyword') && doc['kubernetes.labels.app.keyword'].size() > 0 && doc['kubernetes.labels.app.keyword'].value == 'paymentservice' && doc.containsKey('log.keyword') && !doc['log.keyword'].empty) {\\r\\n    def message = doc['log.keyword'].value;\\r\\n    def pattern = /Amount: JPY(\\\\d+\\\\.\\\\d+)/;\\r\\n    def matcher = pattern.matcher(message);\\r\\n    if (matcher.find()) {\\r\\n        return Float.parseFloat(matcher.group(1));\\r\\n    } else {\\r\\n        return 0; // Or any default value you want\\r\\n    }\\r\\n} else {\\r\\n    return 0; // Or any default value you want when the field is missing, empty, or when 'kubernetes.labels.app' is not 'paymentservice'\\r\\n}\",\"lang\":\"painless\",\"name\":\"JPY\",\"type\":\"number\",\"scripted\":true,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":false},{\"count\":0,\"script\":\"if (doc.containsKey('kubernetes.labels.app.keyword') && doc['kubernetes.labels.app.keyword'].size() > 0 && doc['kubernetes.labels.app.keyword'].value == 'paymentservice' && doc.containsKey('log.keyword') && !doc['log.keyword'].empty) {\\r\\n    def message = doc['log.keyword'].value;\\r\\n    def pattern = /Amount: GBP(\\\\d+\\\\.\\\\d+)/;\\r\\n    def matcher = pattern.matcher(message);\\r\\n    if (matcher.find()) {\\r\\n        return Float.parseFloat(matcher.group(1));\\r\\n    } else {\\r\\n        return 0; // Or any default value you want\\r\\n    }\\r\\n} else {\\r\\n    return 0; // Or any default value you want when the field is missing, empty, or when 'kubernetes.labels.app' is not 'paymentservice'\\r\\n}\",\"lang\":\"painless\",\"name\":\"GBP\",\"type\":\"number\",\"scripted\":true,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":false},{\"count\":0,\"script\":\"if (doc.containsKey('kubernetes.labels.app.keyword') && doc['kubernetes.labels.app.keyword'].size() > 0 && doc['kubernetes.labels.app.keyword'].value == 'paymentservice' && doc.containsKey('log.keyword') && !doc['log.keyword'].empty) {\\r\\n    def message = doc['log.keyword'].value;\\r\\n    def pattern = /Amount: TRY(\\\\d+\\\\.\\\\d+)/;\\r\\n    def matcher = pattern.matcher(message);\\r\\n    if (matcher.find()) {\\r\\n        return Float.parseFloat(matcher.group(1));\\r\\n    } else {\\r\\n        return 0; // Or any default value you want\\r\\n    }\\r\\n} else {\\r\\n    return 0; // Or any default value you want when the field is missing, empty, or when 'kubernetes.labels.app' is not 'paymentservice'\\r\\n}\",\"lang\":\"painless\",\"name\":\"TRY\",\"type\":\"number\",\"scripted\":true,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":false}]","runtimeFieldMap":"{}","timeFieldName":"@timestamp","title":"logstash*","typeMeta":"{}"},"coreMigrationVersion":"7.17.8","id":"9d80d730-ffee-11ee-aa45-01b64daeb68d","migrationVersion":{"index-pattern":"7.11.0"},"references":[],"type":"index-pattern","updated_at":"2024-04-28T13:24:20.091Z","version":"WzE2MDcsMTFd"}
{"attributes":{"description":"","hits":0,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[]}"},"optionsJSON":"{\"useMargins\":true,\"syncColors\":false,\"hidePanelTitles\":false}","panelsJSON":"[{\"version\":\"7.17.8\",\"type\":\"lens\",\"gridData\":{\"x\":0,\"y\":0,\"w\":48,\"h\":5,\"i\":\"ed50c88e-db11-4d25-b900-d37ccee74047\"},\"panelIndex\":\"ed50c88e-db11-4d25-b900-d37ccee74047\",\"embeddableConfig\":{\"attributes\":{\"title\":\"Sum by each currency\",\"description\":\"\",\"visualizationType\":\"lnsDatatable\",\"type\":\"lens\",\"references\":[{\"type\":\"index-pattern\",\"id\":\"9d80d730-ffee-11ee-aa45-01b64daeb68d\",\"name\":\"indexpattern-datasource-current-indexpattern\"},{\"type\":\"index-pattern\",\"id\":\"9d80d730-ffee-11ee-aa45-01b64daeb68d\",\"name\":\"indexpattern-datasource-layer-fa26db9a-e59b-4673-bf8d-6c19b8881c4e\"},{\"name\":\"filter-index-pattern-0\",\"type\":\"index-pattern\",\"id\":\"fb218300-ff2e-11ee-9487-c18c91679c5f\"}],\"state\":{\"visualization\":{\"columns\":[{\"columnId\":\"58e19d2f-013a-4e30-8f36-3c2124b01444\",\"isTransposed\":false},{\"columnId\":\"08f32012-7a29-477d-8e0d-bff893cb5945\",\"isTransposed\":false},{\"columnId\":\"4e585e17-f6f2-4ae9-98c5-109f5db5b23a\",\"isTransposed\":false,\"width\":125},{\"columnId\":\"beb56c9a-d37f-4072-9727-64e3c5ca9043\",\"isTransposed\":false,\"width\":90},{\"columnId\":\"9a84fad9-2c67-4f6b-8db0-664c64cf2579\",\"isTransposed\":false},{\"columnId\":\"b7e0ed27-4617-4649-8bb6-cf670a0f0487\",\"isTransposed\":false}],\"layerId\":\"fa26db9a-e59b-4673-bf8d-6c19b8881c4e\",\"layerType\":\"data\"},\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filters\":[{\"meta\":{\"alias\":null,\"negate\":false,\"disabled\":true,\"type\":\"phrase\",\"key\":\"kubernetes.labels.app\",\"params\":{\"query\":\"paymentservice\"},\"indexRefName\":\"filter-index-pattern-0\"},\"query\":{\"match_phrase\":{\"kubernetes.labels.app\":\"paymentservice\"}},\"$state\":{\"store\":\"appState\"}}],\"datasourceStates\":{\"indexpattern\":{\"layers\":{\"fa26db9a-e59b-4673-bf8d-6c19b8881c4e\":{\"columns\":{\"58e19d2f-013a-4e30-8f36-3c2124b01444\":{\"label\":\"CAD\",\"dataType\":\"number\",\"operationType\":\"sum\",\"sourceField\":\"CAD\",\"isBucketed\":false,\"scale\":\"ratio\",\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":2}}},\"customLabel\":true},\"08f32012-7a29-477d-8e0d-bff893cb5945\":{\"label\":\"EUR\",\"dataType\":\"number\",\"operationType\":\"sum\",\"sourceField\":\"EUR\",\"isBucketed\":false,\"scale\":\"ratio\",\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":2}}},\"customLabel\":true},\"4e585e17-f6f2-4ae9-98c5-109f5db5b23a\":{\"label\":\"JPY\",\"dataType\":\"number\",\"operationType\":\"sum\",\"sourceField\":\"JPY\",\"isBucketed\":false,\"scale\":\"ratio\",\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":2}}},\"customLabel\":true},\"beb56c9a-d37f-4072-9727-64e3c5ca9043\":{\"label\":\"USD\",\"dataType\":\"number\",\"operationType\":\"sum\",\"sourceField\":\"USD\",\"isBucketed\":false,\"scale\":\"ratio\",\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":2}}},\"customLabel\":true},\"9a84fad9-2c67-4f6b-8db0-664c64cf2579\":{\"label\":\"TRY\",\"dataType\":\"number\",\"operationType\":\"sum\",\"sourceField\":\"TRY\",\"isBucketed\":false,\"scale\":\"ratio\",\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":2}}},\"customLabel\":true},\"b7e0ed27-4617-4649-8bb6-cf670a0f0487\":{\"label\":\"GBP\",\"dataType\":\"number\",\"operationType\":\"sum\",\"sourceField\":\"GBP\",\"isBucketed\":false,\"scale\":\"ratio\",\"customLabel\":true}},\"columnOrder\":[\"beb56c9a-d37f-4072-9727-64e3c5ca9043\",\"58e19d2f-013a-4e30-8f36-3c2124b01444\",\"08f32012-7a29-477d-8e0d-bff893cb5945\",\"4e585e17-f6f2-4ae9-98c5-109f5db5b23a\",\"b7e0ed27-4617-4649-8bb6-cf670a0f0487\",\"9a84fad9-2c67-4f6b-8db0-664c64cf2579\"],\"incompleteColumns\":{}}}}}}},\"hidePanelTitles\":false,\"enhancements\":{}},\"title\":\"Sales by currency\"},{\"version\":\"7.17.8\",\"type\":\"visualization\",\"gridData\":{\"x\":0,\"y\":5,\"w\":25,\"h\":11,\"i\":\"a1f5bb19-63e3-4d92-9ed3-d30f02683f0a\"},\"panelIndex\":\"a1f5bb19-63e3-4d92-9ed3-d30f02683f0a\",\"embeddableConfig\":{\"savedVis\":{\"id\":\"\",\"title\":\"List Of Services\",\"description\":\"\",\"type\":\"pie\",\"params\":{\"type\":\"pie\",\"addTooltip\":false,\"addLegend\":true,\"legendPosition\":\"right\",\"nestedLegend\":false,\"truncateLegend\":true,\"maxLegendLines\":1,\"distinctColors\":false,\"isDonut\":true,\"palette\":{\"type\":\"palette\",\"name\":\"default\"},\"labels\":{\"show\":true,\"last_level\":true,\"values\":false,\"valuesFormat\":\"percent\",\"percentDecimals\":2,\"truncate\":100,\"position\":\"default\"}},\"uiState\":{\"vis\":{\"legendOpen\":true}},\"data\":{\"aggs\":[{\"id\":\"1\",\"enabled\":true,\"type\":\"cardinality\",\"params\":{\"field\":\"kubernetes.labels.app.keyword\"},\"schema\":\"metric\"},{\"id\":\"2\",\"enabled\":true,\"type\":\"terms\",\"params\":{\"field\":\"kubernetes.labels.app.keyword\",\"orderBy\":\"_key\",\"order\":\"asc\",\"size\":20,\"otherBucket\":true,\"otherBucketLabel\":\"Other\",\"missingBucket\":false,\"missingBucketLabel\":\"Missing\"},\"schema\":\"segment\"}],\"searchSource\":{\"index\":\"9d80d730-ffee-11ee-aa45-01b64daeb68d\",\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[]}}},\"enhancements\":{}}},{\"version\":\"7.17.8\",\"type\":\"lens\",\"gridData\":{\"x\":25,\"y\":5,\"w\":23,\"h\":11,\"i\":\"6af4483b-5bcf-4a57-aa95-ad43cd6e2097\"},\"panelIndex\":\"6af4483b-5bcf-4a57-aa95-ad43cd6e2097\",\"embeddableConfig\":{\"attributes\":{\"title\":\"Region Visualizer\",\"description\":\"\",\"visualizationType\":\"lnsXY\",\"type\":\"lens\",\"references\":[{\"type\":\"index-pattern\",\"id\":\"9d80d730-ffee-11ee-aa45-01b64daeb68d\",\"name\":\"indexpattern-datasource-current-indexpattern\"},{\"type\":\"index-pattern\",\"id\":\"9d80d730-ffee-11ee-aa45-01b64daeb68d\",\"name\":\"indexpattern-datasource-layer-2c5a49f8-ef50-4f9c-829e-309ce37b7a0a\"}],\"state\":{\"visualization\":{\"legend\":{\"isVisible\":true,\"position\":\"right\"},\"valueLabels\":\"hide\",\"fittingFunction\":\"None\",\"yTitle\":\"Payments Visualizer\",\"yLeftExtent\":{\"mode\":\"full\"},\"yRightExtent\":{\"mode\":\"full\"},\"axisTitlesVisibilitySettings\":{\"x\":false,\"yLeft\":false,\"yRight\":false},\"tickLabelsVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"labelsOrientation\":{\"x\":0,\"yLeft\":0,\"yRight\":0},\"gridlinesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"preferredSeriesType\":\"line\",\"layers\":[{\"layerId\":\"2c5a49f8-ef50-4f9c-829e-309ce37b7a0a\",\"accessors\":[\"419db5e8-f216-4088-a3d6-cb92d85f3811\",\"72e9a951-511b-4cd6-aea4-640597791ce8\",\"8b9fbf76-e8bc-4ba4-b319-dd8358180642\",\"a4a3cb12-b02a-4ac4-9adc-f6517f168c69\",\"4f4df047-a073-4baa-9677-c496385a864d\"],\"position\":\"top\",\"seriesType\":\"line\",\"showGridlines\":false,\"layerType\":\"data\",\"xAccessor\":\"30520e86-3baa-4cba-86b9-f16c6dfeb377\"}],\"curveType\":\"LINEAR\"},\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filters\":[],\"datasourceStates\":{\"indexpattern\":{\"layers\":{\"2c5a49f8-ef50-4f9c-829e-309ce37b7a0a\":{\"columns\":{\"30520e86-3baa-4cba-86b9-f16c6dfeb377\":{\"label\":\"@timestamp\",\"dataType\":\"date\",\"operationType\":\"date_histogram\",\"sourceField\":\"@timestamp\",\"isBucketed\":true,\"scale\":\"interval\",\"params\":{\"interval\":\"auto\"}},\"4f4df047-a073-4baa-9677-c496385a864d\":{\"label\":\"EUR\",\"dataType\":\"number\",\"operationType\":\"sum\",\"sourceField\":\"EUR\",\"isBucketed\":false,\"scale\":\"ratio\",\"customLabel\":true},\"419db5e8-f216-4088-a3d6-cb92d85f3811\":{\"label\":\"JPY\",\"dataType\":\"number\",\"operationType\":\"sum\",\"sourceField\":\"JPY\",\"isBucketed\":false,\"scale\":\"ratio\",\"customLabel\":true},\"72e9a951-511b-4cd6-aea4-640597791ce8\":{\"label\":\"TRY\",\"dataType\":\"number\",\"operationType\":\"sum\",\"sourceField\":\"TRY\",\"isBucketed\":false,\"scale\":\"ratio\",\"customLabel\":true},\"8b9fbf76-e8bc-4ba4-b319-dd8358180642\":{\"label\":\"USD\",\"dataType\":\"number\",\"operationType\":\"sum\",\"sourceField\":\"USD\",\"isBucketed\":false,\"scale\":\"ratio\",\"customLabel\":true},\"a4a3cb12-b02a-4ac4-9adc-f6517f168c69\":{\"label\":\"CAD\",\"dataType\":\"number\",\"operationType\":\"sum\",\"sourceField\":\"CAD\",\"isBucketed\":false,\"scale\":\"ratio\",\"customLabel\":true}},\"columnOrder\":[\"30520e86-3baa-4cba-86b9-f16c6dfeb377\",\"8b9fbf76-e8bc-4ba4-b319-dd8358180642\",\"4f4df047-a073-4baa-9677-c496385a864d\",\"419db5e8-f216-4088-a3d6-cb92d85f3811\",\"72e9a951-511b-4cd6-aea4-640597791ce8\",\"a4a3cb12-b02a-4ac4-9adc-f6517f168c69\"],\"incompleteColumns\":{}}}}}}},\"enhancements\":{},\"hidePanelTitles\":false},\"title\":\"Payments Visualizer\"}]","timeRestore":false,"title":"PPT","version":1},"coreMigrationVersion":"7.17.8","id":"a1934d10-ff3c-11ee-9487-c18c91679c5f","migrationVersion":{"dashboard":"7.17.3"},"references":[{"id":"9d80d730-ffee-11ee-aa45-01b64daeb68d","name":"ed50c88e-db11-4d25-b900-d37ccee74047:indexpattern-datasource-current-indexpattern","type":"index-pattern"},{"id":"9d80d730-ffee-11ee-aa45-01b64daeb68d","name":"ed50c88e-db11-4d25-b900-d37ccee74047:indexpattern-datasource-layer-fa26db9a-e59b-4673-bf8d-6c19b8881c4e","type":"index-pattern"},{"id":"fb218300-ff2e-11ee-9487-c18c91679c5f","name":"ed50c88e-db11-4d25-b900-d37ccee74047:filter-index-pattern-0","type":"index-pattern"},{"id":"9d80d730-ffee-11ee-aa45-01b64daeb68d","name":"a1f5bb19-63e3-4d92-9ed3-d30f02683f0a:kibanaSavedObjectMeta.searchSourceJSON.index","type":"index-pattern"},{"id":"9d80d730-ffee-11ee-aa45-01b64daeb68d","name":"6af4483b-5bcf-4a57-aa95-ad43cd6e2097:indexpattern-datasource-current-indexpattern","type":"index-pattern"},{"id":"9d80d730-ffee-11ee-aa45-01b64daeb68d","name":"6af4483b-5bcf-4a57-aa95-ad43cd6e2097:indexpattern-datasource-layer-2c5a49f8-ef50-4f9c-829e-309ce37b7a0a","type":"index-pattern"}],"type":"dashboard","updated_at":"2024-04-21T14:59:57.385Z","version":"WzE1ODMsMTFd"}
{"excludedObjects":[],"excludedObjectsCount":0,"exportedCount":2,"missingRefCount":1,"missingReferences":[{"id":"fb218300-ff2e-11ee-9487-c18c91679c5f","type":"index-pattern"}]}
